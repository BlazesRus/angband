Angband 3.1.2
=============

We, the Angband development team, are proud to present the latest iteration
of the game, in the form of Angband 3.1.2.  Like other releases in the 3.1.x
series, this is a beta, though it should be less buggy than other 3.1.x
releases have been.  Doubtless there will be another release in a few weeks
time fixing the bugs found herein, but in the meantime, play.

Please note that this release breaks savefiles again.

This release was brought to you by (in no particular order): bron, Tobias,
Eddie Grove, Antoine, Chris Carr, MarbleDice, Erik Osheim, Stefan O'Rear,
Peter Denison, Andi Sidwell, rhinocesaurus, and Andrew Doull, Marco and Pete
Mack.  Other people may have contributed too; if you're missed off here,
please file a bug at http://trac.rephial.org :)


Gameplay changes
================

Make paralysis non-cumulative (you can't be paralysed more if you're already paralysed) (#783)
New algorithm for device failure rates, and display those rates during the inspect/aim/use/zap commands (#483, #715, #1048)
Extensive tweaking of artifact list (http://angband.oook.cz/forum/showthread.php?t=2454)
Various randart changes, including random activations on non-lights (#974)
Add NPP-style quiver (#34)
Tweaks to ID-by-use:
 - Don't display larger than normal base dice (artifacts/boosted egos) until the weapon is attacked with (#982)
 - Notice artifact status on pickup (#1052)
Bows of Power/Accuracy should always have a good bonus (#782)
Show stat requirements for additional blows when describing melee weapons (#922)
Decouple chance to enchant and chance to uncurse (#1007)
Increase variability of gold drops
Increase prices of ego ammo by assuming +9 launcher
Make player races a bit more varied
Deep Descent now acts as a 2-level down Teleport Level (#1062)
General store buys some stuff again (#288)
Empty wands/staffs sold to stores are recharged (#229)
Boost device damage on high device skill (#419)
Make wands/rods of lightning bolt always beam
Mage damage spells have lower mana usage than before, by about half, making using magic when attacking more appealing 
Detect Invisible spell should reveal non-invisible monsters too (#1047)
Combine priest Detect Trap and Detect Stairs prayers (#941)
Remove destroyed levels
Remove the self knowledge effect (#831)
Increase odds of out-of-depth monsters
Smeagol now has HURT_LITE (#955)
Give rods of lightning balls IGNORE_ELEC (like wands)


User interface
==============

New commands:
 - Center map (Ctrl-L)
 - Fire at nearest enemy with default ammo ('h') (#697)
 - Target closest monster ("'") (#374)
Make look/target command a lot more usable, with less stuff cluttering the screen and a '?' display a la the stores (#924, #927)
Display shots modifiers on bows in the multiplier
Uniques are now all purple (#1000, pending full implementation of extra colours)
Destroy command now asks 'yns' to allow squelching
Tweak monster recall; (#743, #532, #541)
 - add damage estimates for monster spells
 - add more meaningful colours that depend on the player's state (vulnerabilities and resistances)
 - change the order of sentences
Show player-turns on C screen and in dumps (#891)
Add "{unseen}" to unaware items in stores (#732)
Add price to the item list when the player is prompted to select an item to sell (#861)
Add light sources to the quality squelch menu (#1032)


List of bugs fixed
==================

 #294 Fix ego-item recall on object knowledge browser
 #443 Lack of HURT_LITE and HURT_ROCK are noted as resistances
 #688 Fix "learning spells" message when casting
 #641 Fix Morgoth artifacts *again*
 #708 Monster recall and object knowledge update more correctly with sleep/scare/etc effects
 #816 Random teleport no longer prints odd messages if you try to work into a store when it triggers
 #884 Don't use a turn when an item has no charges (also see #980)
 #915 Print trampling and pushing past messages only when monster is in view of the player
 #918 Warn player when melee attacks do no damage
 #920 Make permarock a different colour
 #923 Add notify_recharge option to notify on all rod/activation recharges without inscriptions
 #926 Restore artifact activations to character dumps
 #929 Avoid giving away unknown pvals in object descriptions
 #930 Fix prices of known objects with unknown pval
 #933 Fix ID-by-use for AC bonuses
 #935 Check that the item exists before accessing it in resistance display
 #937 Quality squelch UI fixes
 #943 Use correct symbol for wand of teleport other
 #945 Make scrolls of Darkness notice rDark as well as rBlind
 #948 Fix corrupted messages when dropping in the home
 #954 Ring of Accuracy displays (+h,+d) like everything else
 #967 Ensure that artifacts ID'd by use appear in player history
 #972 Reword origin of store items to make sense when inspected before purchase
 #975 Potion of Dragon Breath can destroy itself and cause double-delete
 #976 Fix recall of artifacts in knowledge menu (also #1065)
 #978 Stop knowledge menu leaking info via squelch settings
 #980 Don't use a turn when an ID spell/scroll/staff has nothing to ID
 #986 Don't show refuelling info for unrefuellable lights
 #988 Artifact spoilers include curses again
 #989 When artifact creation fails, fallback to great items
 #990 Inven/equip windows keep weights closer to item names
 #994 Make {wielded} inscription change to {worn} as necessary for consistency
#1010 Branding now IDs the item after branding
#1011 Fix fail behaviour of gain-one-lose-one stat potions 
#1013 Multiple brand/slays should only print one message and only print brand messages once
#1016 Make jewelry auto-ID properly
#1034 Town no longer interrupts level feelings
#1040 Object origin now shown correctly on chest-generated items
#1042 Fix room lighting crash bug
#1043 Rods on the floor now charge as fast as rods in inventory
#1053 Show ring and chest mimics in monster knowledge
#1055 Fix pval display on fixed-pval jewelry
#1064 Stop invalid open/disarm/etc commands repeating
#1067 Monster list updates on monster move
#1068 Stop stat rings IDing prematurely (interim solution)
#1070 Auto-repeat the search command
#1081 Correct origin text for items found in chests
#1082 Don't print messages for squelched items dropped underfoot
#1084 Fix gold generation bug
#1089 Fix magic missile's visual effect

Fix effect descriptions for unIDd food, potions and scrolls
Describe brands on torches and flasks correctly (they do not brand melee attacks)
Re-enable auto-stat-buying in the birth process
Ensure it is possible to destroy wielded items with the destroy command
r1630 fix keymap loading issue
improvements to grammar per mailing list
Better grammar in ID messages
Fix possibility of infinite loop when generating ego-items
Update description of GAIN_EXP effect
Player melee confusion effect now triggers before monster death is checked
Rename "Detect Hidden Doors/Traps" to "Detect Doors, Traps & Stairs"


Misc
====

  #23 Import UnAngband's 256-colour display code
  #43 Move names for randarts and player into names.txt
  #46 Create missing directories on startup if necessary
 #771 make object_desc use better use of bitflags
 #934 Flags set in monster lore now mean "know the presence or absence of this flag", a la known_flags on object_type
 #939 Scale X11 port's colours to the maximum gamut
 #961 Remove the .raw files
 #984 Move artifacts to alloc_prob system, enabling max depths
 #995 Updated references to copyrights and licences (pending full help rewrite)
#1038 Various fields in the edit files now take random values of the form "5+2d6M8"
      (e.g. stack size, pval, to_hit, to_dam, to_ac, recharge time, number of charges)
#1079 Fix GTK port memory leak
      Replace all instances of "lite" and "hilite" with light and highlight (except rLite on the C screen)


Unix
====

Comply with the FHS (#134)
Remove debian/ directory - Debian packaging now hosted at git://git.debian.org/git/collab-maint/angband.git
Make --no-install work again
Make --use-private-dirs the default
Improve the GCU port a bit:
 - added gcu subopts -a(scii) and -g(raphics)
 - fix ncurses-autoconf bug; fix gcu bg-color bug; add xterm-256color support
 - handle putty numpad (#796)
 - supports dynamic resizing (#368)
